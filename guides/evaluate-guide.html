<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Evaluate - AXIS User Guide</title>
<style>
  /* ── Reset & Base ── */
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  :root {
    --primary: #4f46e5;
    --primary-light: #eef2ff;
    --primary-dark: #3730a3;
    --green: #16a34a;
    --green-light: #f0fdf4;
    --green-border: #bbf7d0;
    --yellow: #ca8a04;
    --yellow-light: #fefce8;
    --yellow-border: #fef08a;
    --red: #dc2626;
    --red-light: #fef2f2;
    --red-border: #fecaca;
    --blue: #2563eb;
    --blue-light: #eff6ff;
    --blue-border: #bfdbfe;
    --gray-50: #f9fafb;
    --gray-100: #f3f4f6;
    --gray-200: #e5e7eb;
    --gray-300: #d1d5db;
    --gray-400: #9ca3af;
    --gray-500: #6b7280;
    --gray-600: #4b5563;
    --gray-700: #374151;
    --gray-800: #1f2937;
    --gray-900: #111827;
    --sidebar-w: 260px;
    --content-max: 860px;
    --toc-w: 220px;
  }
  html { scroll-behavior: smooth; }
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    color: var(--gray-800);
    line-height: 1.7;
    background: #fff;
  }
  a { color: var(--primary); text-decoration: none; }
  a:hover { text-decoration: underline; }
  code {
    font-family: 'SF Mono', 'Fira Code', 'Fira Mono', Menlo, monospace;
    font-size: 0.875em;
    background: var(--gray-100);
    padding: 2px 6px;
    border-radius: 4px;
    color: var(--primary-dark);
  }
  pre { background: var(--gray-900); color: #e5e7eb; padding: 16px 20px; border-radius: 8px; overflow-x: auto; font-size: 0.85rem; line-height: 1.6; }
  pre code { background: none; padding: 0; color: inherit; }
  kbd {
    display: inline-block; padding: 2px 6px; font-size: 0.8em;
    border: 1px solid var(--gray-300); border-radius: 4px;
    background: var(--gray-50); box-shadow: 0 1px 0 var(--gray-300);
    font-family: inherit;
  }

  /* ── Top Nav ── */
  .topnav {
    position: fixed; top: 0; left: 0; right: 0; z-index: 100;
    height: 56px; background: var(--gray-900); color: #fff;
    display: flex; align-items: center; padding: 0 24px;
    box-shadow: 0 1px 3px rgba(0,0,0,.3);
  }
  .topnav-logo { font-weight: 700; font-size: 1.1rem; letter-spacing: -0.02em; }
  .topnav-logo span { color: var(--primary); }
  .topnav-links { margin-left: auto; display: flex; gap: 24px; font-size: 0.875rem; }
  .topnav-links a { color: var(--gray-300); }
  .topnav-links a:hover { color: #fff; text-decoration: none; }
  .topnav-links a.active { color: #fff; font-weight: 600; }

  /* ── Layout ── */
  .layout { display: flex; margin-top: 56px; min-height: calc(100vh - 56px); }

  /* ── Sidebar ── */
  .sidebar {
    position: fixed; top: 56px; left: 0; bottom: 0;
    width: var(--sidebar-w); background: var(--gray-50);
    border-right: 1px solid var(--gray-200);
    overflow-y: auto; padding: 20px 0; font-size: 0.85rem;
  }
  .sidebar-section { padding: 0 16px; margin-bottom: 20px; }
  .sidebar-section-title {
    font-size: 0.7rem; font-weight: 700; text-transform: uppercase;
    letter-spacing: 0.08em; color: var(--gray-400); margin-bottom: 8px;
    padding-left: 8px;
  }
  .sidebar-link {
    display: flex; align-items: center; gap: 8px;
    padding: 6px 12px; border-radius: 6px; color: var(--gray-600);
    transition: all 0.15s;
  }
  .sidebar-link:hover { background: var(--gray-200); color: var(--gray-800); text-decoration: none; }
  .sidebar-link.active { background: var(--primary-light); color: var(--primary); font-weight: 600; }
  .sidebar-link svg { width: 16px; height: 16px; flex-shrink: 0; }

  /* ── Main Content ── */
  .main {
    margin-left: var(--sidebar-w); flex: 1;
    padding: 40px 40px 80px;
    margin-right: calc(var(--toc-w) + 48px);
  }
  .content { max-width: var(--content-max); width: 100%; }

  /* ── TOC (right rail) ── */
  .toc {
    position: fixed; top: 96px; right: 24px;
    width: var(--toc-w); font-size: 0.78rem;
  }
  .toc-title { font-weight: 700; font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.08em; color: var(--gray-400); margin-bottom: 10px; }
  .toc-list { list-style: none; border-left: 2px solid var(--gray-200); }
  .toc-list li { padding-left: 14px; margin-bottom: 6px; }
  .toc-list a { color: var(--gray-500); }
  .toc-list a:hover { color: var(--primary); text-decoration: none; }
  .toc-list .indent { padding-left: 28px; }

  /* ── Typography ── */
  .content h1 { font-size: 2rem; font-weight: 800; letter-spacing: -0.03em; margin-bottom: 8px; color: var(--gray-900); }
  .content h2 { font-size: 1.45rem; font-weight: 700; margin-top: 48px; margin-bottom: 16px; padding-bottom: 8px; border-bottom: 1px solid var(--gray-200); color: var(--gray-900); }
  .content h3 { font-size: 1.15rem; font-weight: 600; margin-top: 32px; margin-bottom: 12px; color: var(--gray-800); }
  .content h4 { font-size: 1rem; font-weight: 600; margin-top: 24px; margin-bottom: 8px; color: var(--gray-700); }
  .content p { margin-bottom: 16px; color: var(--gray-700); }
  .content > ul, .content > ol { margin-bottom: 16px; padding-left: 24px; color: var(--gray-700); }
  .content li { margin-bottom: 6px; }
  .subtitle { font-size: 1.1rem; color: var(--gray-500); margin-bottom: 32px; }

  /* ── Breadcrumb ── */
  .breadcrumb { font-size: 0.8rem; color: var(--gray-400); margin-bottom: 12px; }
  .breadcrumb a { color: var(--gray-400); }
  .breadcrumb a:hover { color: var(--primary); }

  /* ── Admonitions ── */
  .admonition {
    border-radius: 8px; padding: 16px 20px; margin: 20px 0;
    border-left: 4px solid; font-size: 0.9rem;
  }
  .admonition-title {
    font-weight: 700; font-size: 0.8rem; text-transform: uppercase;
    letter-spacing: 0.04em; margin-bottom: 6px;
    display: flex; align-items: center; gap: 6px;
  }
  .admonition.tip { background: var(--green-light); border-color: var(--green); }
  .admonition.tip .admonition-title { color: var(--green); }
  .admonition.info { background: var(--blue-light); border-color: var(--blue); }
  .admonition.info .admonition-title { color: var(--blue); }
  .admonition.warning { background: var(--yellow-light); border-color: var(--yellow); }
  .admonition.warning .admonition-title { color: var(--yellow); }
  .admonition.note { background: var(--gray-50); border-color: var(--gray-400); }
  .admonition.note .admonition-title { color: var(--gray-600); }

  /* ── Screenshot Frames ── */
  .screenshot {
    margin: 24px 0; border-radius: 10px; overflow: hidden;
    border: 1px solid var(--gray-200); box-shadow: 0 2px 12px rgba(0,0,0,0.08);
  }
  .screenshot-chrome {
    background: var(--gray-100); padding: 8px 14px; display: flex;
    align-items: center; gap: 8px; border-bottom: 1px solid var(--gray-200);
  }
  .screenshot-dots { display: flex; gap: 6px; }
  .screenshot-dots span { width: 10px; height: 10px; border-radius: 50%; }
  .screenshot-dots span:nth-child(1) { background: #f87171; }
  .screenshot-dots span:nth-child(2) { background: #fbbf24; }
  .screenshot-dots span:nth-child(3) { background: #34d399; }
  .screenshot-title { font-size: 0.75rem; color: var(--gray-500); margin-left: 8px; }
  .screenshot-body { background: #fff; position: relative; }
  .screenshot-caption {
    text-align: center; font-size: 0.8rem; color: var(--gray-500);
    padding: 10px; font-style: italic; background: var(--gray-50);
    border-top: 1px solid var(--gray-200);
  }

  /* ── Simulated UI ── */
  .sim-ui { padding: 20px; font-family: inherit; }
  .sim-header { display: flex; align-items: center; gap: 12px; margin-bottom: 16px; padding-bottom: 12px; border-bottom: 1px solid var(--gray-200); }
  .sim-header-icon { width: 24px; height: 24px; color: var(--primary); }
  .sim-header h3 { margin: 0; font-size: 1.1rem; }
  .sim-header p { margin: 0; font-size: 0.8rem; color: var(--gray-500); }

  .sim-filters { display: flex; gap: 8px; margin-bottom: 16px; flex-wrap: wrap; align-items: center; }
  .sim-filter-btn {
    padding: 6px 14px; border-radius: 6px; font-size: 0.8rem;
    border: 1px solid var(--gray-200); background: #fff; color: var(--gray-600);
    display: flex; align-items: center; gap: 6px;
  }
  .sim-filter-btn.active { border-color: var(--primary); background: var(--primary-light); color: var(--primary); font-weight: 600; }
  .sim-filter-btn svg { width: 14px; height: 14px; }

  .sim-kpi-row { display: grid; grid-template-columns: repeat(4,1fr); gap: 12px; margin-bottom: 20px; }
  .sim-kpi-row.five { grid-template-columns: repeat(5,1fr); }
  .sim-kpi {
    border: 1px solid var(--gray-200); border-radius: 8px; padding: 14px 16px;
    background: #fff;
  }
  .sim-kpi-label { font-size: 0.7rem; color: var(--gray-500); text-transform: uppercase; letter-spacing: 0.04em; margin-bottom: 4px; }
  .sim-kpi-value { font-size: 1.4rem; font-weight: 700; color: var(--gray-900); }
  .sim-kpi-trend { font-size: 0.75rem; margin-top: 2px; }
  .sim-kpi-trend.up { color: var(--green); }
  .sim-kpi-trend.down { color: var(--red); }

  .sim-tabs { display: flex; border-bottom: 2px solid var(--gray-200); margin-bottom: 16px; }
  .sim-tab {
    padding: 8px 16px; font-size: 0.82rem; color: var(--gray-500);
    border-bottom: 2px solid transparent; margin-bottom: -2px; cursor: pointer;
    display: flex; align-items: center; gap: 6px;
  }
  .sim-tab.active { color: var(--primary); border-color: var(--primary); font-weight: 600; }
  .sim-tab .badge {
    background: var(--red); color: #fff; font-size: 0.65rem;
    padding: 1px 6px; border-radius: 10px; font-weight: 700;
  }

  .sim-chart-placeholder {
    height: 200px; background: var(--gray-50); border: 1px solid var(--gray-200);
    border-radius: 8px; display: flex; align-items: center; justify-content: center;
    position: relative; overflow: hidden;
  }
  .sim-chart-placeholder.tall { height: 280px; }

  /* Chart: Score Trend simulation */
  .sim-trend-chart { position: relative; width: 100%; height: 100%; }
  .sim-trend-chart svg { width: 100%; height: 100%; }

  .sim-chart-header {
    display: flex; justify-content: space-between; align-items: center;
    padding: 10px 14px; border-bottom: 1px solid var(--gray-200);
  }
  .sim-chart-header h4 { font-size: 0.85rem; margin: 0; color: var(--gray-700); }
  .sim-chart-card { border: 1px solid var(--gray-200); border-radius: 8px; overflow: hidden; margin-bottom: 16px; }
  .sim-chart-content { padding: 16px; }

  .sim-2col { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }

  /* Table simulation */
  .sim-table { width: 100%; border-collapse: collapse; font-size: 0.8rem; }
  .sim-table th { background: var(--gray-50); text-align: left; padding: 8px 12px; font-weight: 600; color: var(--gray-600); border-bottom: 1px solid var(--gray-200); font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.04em; }
  .sim-table td { padding: 8px 12px; border-bottom: 1px solid var(--gray-100); color: var(--gray-700); }
  .sim-table tr:hover td { background: var(--gray-50); }
  .sim-badge { display: inline-block; padding: 2px 8px; border-radius: 12px; font-size: 0.7rem; font-weight: 600; }
  .sim-badge.green { background: var(--green-light); color: var(--green); border: 1px solid var(--green-border); }
  .sim-badge.yellow { background: var(--yellow-light); color: var(--yellow); border: 1px solid var(--yellow-border); }
  .sim-badge.red { background: var(--red-light); color: var(--red); border: 1px solid var(--red-border); }
  .sim-badge.blue { background: var(--blue-light); color: var(--blue); border: 1px solid var(--blue-border); }
  .sim-badge.gray { background: var(--gray-100); color: var(--gray-600); border: 1px solid var(--gray-200); }
  .sim-code { font-family: 'SF Mono', monospace; font-size: 0.75rem; color: var(--primary); }
  .sim-eye-btn { width: 28px; height: 28px; border: 1px solid var(--gray-200); border-radius: 6px; display: inline-flex; align-items: center; justify-content: center; color: var(--gray-400); cursor: pointer; background: #fff; }
  .sim-eye-btn:hover { border-color: var(--primary); color: var(--primary); }

  /* ── Annotation Overlay ── */
  .annotation-overlay { position: absolute; pointer-events: none; }
  .callout-num {
    display: inline-flex; align-items: center; justify-content: center;
    width: 24px; height: 24px; border-radius: 50%;
    background: var(--primary); color: #fff; font-size: 0.7rem; font-weight: 700;
    box-shadow: 0 2px 6px rgba(79,70,229,0.4);
  }
  .callout-ring {
    position: absolute; border: 2px solid var(--primary);
    border-radius: 8px; pointer-events: none;
    box-shadow: 0 0 0 2px rgba(79,70,229,0.15);
  }
  .callout-legend { margin: 16px 0; font-size: 0.85rem; }
  .callout-legend-item { display: flex; align-items: flex-start; gap: 10px; margin-bottom: 8px; }
  .callout-legend-item .callout-num { flex-shrink: 0; }

  /* ── Step Boxes ── */
  .step-grid { display: grid; grid-template-columns: 1fr; gap: 16px; margin: 20px 0; }
  .step-box {
    display: flex; gap: 16px; padding: 16px 20px;
    border: 1px solid var(--gray-200); border-radius: 10px;
    background: #fff; transition: box-shadow 0.15s;
  }
  .step-box:hover { box-shadow: 0 2px 8px rgba(0,0,0,0.06); }
  .step-num {
    width: 32px; height: 32px; border-radius: 50%;
    background: var(--primary); color: #fff;
    display: flex; align-items: center; justify-content: center;
    font-weight: 700; font-size: 0.85rem; flex-shrink: 0;
  }
  .step-content h4 { margin: 0 0 4px; font-size: 0.95rem; }
  .step-content p { margin: 0; font-size: 0.88rem; color: var(--gray-600); }

  /* ── Feature Cards ── */
  .feature-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 20px 0; }
  .feature-card {
    border: 1px solid var(--gray-200); border-radius: 8px; padding: 16px;
    transition: box-shadow 0.15s;
  }
  .feature-card:hover { box-shadow: 0 2px 8px rgba(0,0,0,0.06); }
  .feature-card h4 { margin: 0 0 6px; font-size: 0.9rem; display: flex; align-items: center; gap: 8px; }
  .feature-card p { margin: 0; font-size: 0.82rem; color: var(--gray-500); }
  .feature-icon { font-size: 1.1rem; }

  /* ── Alert Card Sim ── */
  .sim-alert-card {
    border: 1px solid var(--gray-200); border-radius: 8px; padding: 14px 18px;
    border-left: 4px solid; margin-bottom: 10px;
  }
  .sim-alert-card.error { border-left-color: var(--red); }
  .sim-alert-card.warning { border-left-color: var(--yellow); }
  .sim-alert-title { font-weight: 600; font-size: 0.88rem; display: flex; align-items: center; gap: 8px; }
  .sim-alert-meta { display: flex; gap: 12px; margin-top: 6px; font-size: 0.78rem; color: var(--gray-500); }
  .sim-alert-values { display: flex; gap: 8px; margin-top: 8px; }
  .sim-alert-val { background: var(--gray-50); border-radius: 6px; padding: 6px 10px; font-size: 0.75rem; }
  .sim-alert-val .label { color: var(--gray-500); display: block; }
  .sim-alert-val .val { font-weight: 700; font-family: monospace; }

  /* ── Separator ── */
  .section-sep { display: flex; align-items: center; gap: 12px; margin: 32px 0 24px; color: var(--gray-400); font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.08em; }
  .section-sep::before, .section-sep::after { content: ''; flex: 1; height: 1px; background: var(--gray-200); }

  /* ── Next Steps ── */
  .next-steps { display: grid; grid-template-columns: repeat(3,1fr); gap: 12px; margin: 24px 0; }
  .next-step-card {
    border: 1px solid var(--gray-200); border-radius: 8px; padding: 16px;
    transition: all 0.15s;
  }
  .next-step-card:hover { border-color: var(--primary); box-shadow: 0 2px 8px rgba(79,70,229,0.1); text-decoration: none; }
  .next-step-card h4 { margin: 0 0 4px; font-size: 0.9rem; color: var(--gray-800); }
  .next-step-card p { margin: 0; font-size: 0.78rem; color: var(--gray-500); }

  /* ── Modal Sim ── */
  .sim-modal-overlay {
    background: rgba(0,0,0,0.04); border-radius: 8px; padding: 20px;
    border: 1px solid var(--gray-200);
  }
  .sim-modal {
    background: #fff; border-radius: 12px; max-width: 600px; margin: 0 auto;
    box-shadow: 0 8px 30px rgba(0,0,0,0.12); overflow: hidden;
  }
  .sim-modal-header { padding: 16px 20px; border-bottom: 1px solid var(--gray-200); display: flex; justify-content: space-between; align-items: center; }
  .sim-modal-body { padding: 20px; }
  .sim-modal-section { margin-bottom: 16px; }
  .sim-modal-label { font-size: 0.7rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.04em; color: var(--gray-500); margin-bottom: 4px; }
  .sim-modal-box { background: var(--gray-50); border-radius: 6px; padding: 10px 14px; font-size: 0.82rem; color: var(--gray-700); }
  .sim-modal-box.blue { background: var(--blue-light); border: 1px solid var(--blue-border); }
  .sim-score-display { display: flex; align-items: center; gap: 16px; }
  .sim-score-circle { width: 56px; height: 56px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; font-weight: 800; color: #fff; }
  .sim-score-circle.green { background: var(--green); }
  .sim-score-circle.red { background: var(--red); }
  .sim-score-circle.yellow { background: var(--yellow); }
  .sim-score-bar { flex: 1; height: 8px; border-radius: 4px; background: var(--gray-200); overflow: hidden; }
  .sim-score-bar-fill { height: 100%; border-radius: 4px; }

  /* ── Video placeholder ── */
  .video-placeholder {
    margin: 24px 0; border-radius: 10px; overflow: hidden;
    border: 1px solid var(--gray-200); background: var(--gray-900);
    height: 80px; display: flex; align-items: center; justify-content: center; color: #fff;
    font-size: 0.85rem; gap: 8px;
  }
  .video-placeholder svg { width: 24px; height: 24px; }

  /* ── Step Nav Sim ── */
  .sim-step-nav { display: flex; align-items: center; margin-bottom: 20px; }
  .sim-step-item { flex: 1; display: flex; align-items: center; }
  .sim-step-pill {
    display: flex; align-items: center; gap: 10px; padding: 8px 14px;
    border-radius: 8px; width: 100%; font-size: 0.82rem;
  }
  .sim-step-pill.active { background: var(--primary); color: #fff; }
  .sim-step-pill.past { background: var(--primary-light); color: var(--primary); }
  .sim-step-pill.future { background: var(--gray-100); color: var(--gray-400); }
  .sim-step-pill.disabled { background: var(--gray-50); color: var(--gray-400); opacity: 0.5; }
  .sim-step-icon {
    width: 28px; height: 28px; border-radius: 6px;
    display: flex; align-items: center; justify-content: center; font-size: 0.8rem;
  }
  .sim-step-pill.active .sim-step-icon { background: rgba(255,255,255,0.2); }
  .sim-step-pill.past .sim-step-icon { background: rgba(79,70,229,0.1); }
  .sim-step-pill.future .sim-step-icon { background: var(--gray-200); }
  .sim-step-pill.disabled .sim-step-icon { background: var(--gray-200); }
  .sim-step-label { font-weight: 600; font-size: 0.82rem; }
  .sim-step-desc { font-size: 0.7rem; opacity: 0.7; }
  .sim-step-connector { width: 32px; height: 2px; margin: 0 4px; flex-shrink: 0; }
  .sim-step-connector.done { background: var(--primary); }
  .sim-step-connector.pending { background: var(--gray-200); }

  /* ── Upload zone sim ── */
  .sim-upload-zone {
    border: 2px dashed var(--gray-300); border-radius: 12px; padding: 40px;
    text-align: center; background: var(--gray-50); transition: all 0.15s;
  }
  .sim-upload-zone:hover { border-color: var(--primary); background: var(--primary-light); }

  /* ── Sparkline sim ── */
  .sim-sparkline { display: inline-block; width: 60px; height: 20px; vertical-align: middle; }

  /* ── Hierarchy tree indent ── */
  .sim-tree-row { display: flex; align-items: center; gap: 6px; }
  .sim-tree-indent { width: 20px; display: inline-block; }
  .sim-tree-toggle { width: 16px; color: var(--gray-400); cursor: pointer; font-size: 0.7rem; }

  /* ── Responsive ── */
  @media (max-width: 1200px) {
    .toc { display: none; }
    .main { margin-right: 0; }
  }
  @media (max-width: 900px) {
    .sidebar { display: none; }
    .main { margin-left: 0; }
    .sim-kpi-row { grid-template-columns: repeat(2,1fr); }
    .sim-kpi-row.five { grid-template-columns: repeat(2,1fr); }
    .sim-2col { grid-template-columns: 1fr; }
    .feature-grid { grid-template-columns: 1fr; }
    .next-steps { grid-template-columns: 1fr; }
  }
</style>
</head>
<body>

<!-- TOP NAV -->
<nav class="topnav">
  <div class="topnav-logo"><img src="../assets/axis_transparent.png" alt="AXIS"
    style="height:20px;vertical-align:middle;margin-right:2px;"> Docs</div>
    <div class="topnav-links">
    <a href="../getting-started/">Getting Started</a>
    <a href="../user-guide/" class="active">User Guide</a>
    <a href="../configuration/">Configuration</a>
    <a href="../architecture/">Architecture</a>
    <a href="../api-reference/">API Reference</a>
  </div>
</nav>

<!-- SIDEBAR -->
<div class="layout">
<aside class="sidebar">
  <div class="sidebar-section">
    <div class="sidebar-section-title">User Guide</div>
    <a class="sidebar-link" href="../user-guide/">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
      Overview
    </a>
    <a class="sidebar-link active" href="evaluate-guide.html">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
      Evaluate
    </a>
    <a class="sidebar-link" href="annotation-guide.html">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4Z"/></svg>
      Annotation Studio
    </a>
    <a class="sidebar-link" href="monitoring-guide.html">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
      Monitoring
    </a>
    <a class="sidebar-link" href="production-guide.html">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
      Production
    </a>
    <a class="sidebar-link" href="calibration-guide.html">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>
      CaliberHQ
    </a>
    <a class="sidebar-link" href="human-signals-guide.html">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
      Human Signals
    </a>
    <a class="sidebar-link" href="memory-guide.html">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/></svg>
      Memory
    </a>
    <a class="sidebar-link" href="agent-replay-guide.html">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"/></svg>
      Agent Replay
    </a>
    <a class="sidebar-link" href="simulation-guide.html">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/></svg>
      Simulation
    </a>
    <a class="sidebar-link" href="learn-guide.html">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
      Learn
    </a>
    <a class="sidebar-link" href="settings-guide.html">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>
      Settings
    </a>
  </div>
</aside>

<!-- MAIN CONTENT -->
<main class="main">
<div class="content">

<!-- Breadcrumb -->
<div class="breadcrumb">
  <a href="#">Docs</a> / <a href="#">User Guide</a> / <strong>Evaluate</strong>
</div>

<h1>Evaluate</h1>
<p class="subtitle">A guided five-step workflow for uploading evaluation data, reviewing scorecards, exploring deep-dive analytics, and comparing experiments side by side.</p>

<!-- ── Why ── -->
<h2 id="why-evaluate">Why Use Evaluate?</h2>
<p>Every LLM application needs a structured way to measure quality. The Evaluate module provides a complete pipeline &mdash; from importing raw results to interactive visualizations &mdash; so you can <strong>understand what your model gets right, where it struggles, and how changes compare across experiments</strong>.</p>

<div class="feature-grid">
  <div class="feature-card">
    <h4><span class="feature-icon">&#x1F3AF;</span> Hierarchical Scorecards</h4>
    <p>Weighted, expandable metric trees with sparkline distributions and drill-down modals for every score.</p>
  </div>
  <div class="feature-card">
    <h4><span class="feature-icon">&#x1F50D;</span> Deep Dive Analysis</h4>
    <p>Seven sub-tabs covering distributions, tradeoffs, tree views, response analysis, conversation turns, and metadata breakdowns.</p>
  </div>
  <div class="feature-card">
    <h4><span class="feature-icon">&#x1F504;</span> Experiment Comparison</h4>
    <p>Head-to-head experiment analysis with win/loss charts, radar overlays, and per-case diff views.</p>
  </div>
  <div class="feature-card">
    <h4><span class="feature-icon">&#x1F4CB;</span> Report Generation</h4>
    <p>Auto-generate evaluation reports from the scorecard &mdash; scoped to the full hierarchy or any individual sub-tree.</p>
  </div>
</div>

<!-- ── Quick Start ── -->
<h2 id="quick-start">Quick Start</h2>
<p>Get your first evaluation scorecard in under two minutes:</p>

<div class="step-grid">
  <div class="step-box">
    <div class="step-num">1</div>
    <div class="step-content">
      <h4>Navigate to Evaluate</h4>
      <p>Click <strong>Evaluate</strong> in the left sidebar. The step navigation bar appears at the top, starting at the Runner (or Upload if Runner is disabled).</p>
    </div>
  </div>
  <div class="step-box">
    <div class="step-num">2</div>
    <div class="step-content">
      <h4>Upload Your CSV</h4>
      <p>Click the <strong>Upload</strong> step. Drag a CSV into the upload zone or click to browse. You can also load an example dataset to explore the UI immediately.</p>
    </div>
  </div>
  <div class="step-box">
    <div class="step-num">3</div>
    <div class="step-content">
      <h4>Review the Scorecard</h4>
      <p>After upload, click <strong>Continue to Scorecard</strong> (or click the Scorecard step). The KPI cards, hierarchical table, and report generator appear instantly.</p>
    </div>
  </div>
  <div class="step-box">
    <div class="step-num">4</div>
    <div class="step-content">
      <h4>Explore &amp; Compare</h4>
      <p>Use <strong>Deep Dive</strong> for per-metric charts and analysis, or <strong>Compare</strong> to pit two experiments against each other.</p>
    </div>
  </div>
</div>

<div class="admonition tip">
  <div class="admonition-title">&#x1F4A1; Tip</div>
  If you don't have evaluation data yet, click <strong>Example Model</strong> or <strong>Model Comparison</strong> on the upload page to load a pre-built dataset and explore every feature.
</div>

<!-- ── Step Navigation ── -->
<h2 id="step-navigation">Step Navigation</h2>
<p>The Evaluate section uses a horizontal step indicator that guides you through the workflow. Each step is a separate route under <code>/evaluate/*</code>.</p>

<!-- Annotated Step Nav Screenshot -->
<div class="screenshot">
  <div class="screenshot-chrome">
    <div class="screenshot-dots"><span></span><span></span><span></span></div>
    <div class="screenshot-title">localhost:3500/evaluate/scorecard</div>
  </div>
  <div class="screenshot-body">
    <div class="sim-ui" style="position:relative;">
      <!-- Page Header -->
      <div class="sim-header" style="border-bottom:none;padding-bottom:4px;">
        <svg class="sim-header-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
        <div>
          <h3 style="font-size:1rem;">Evaluate</h3>
          <p>Run evaluations, import results, and visualize with interactive charts</p>
        </div>
      </div>

      <!-- Step Navigation -->
      <div class="sim-step-nav" style="position:relative;">
        <!-- Runner (disabled) -->
        <div class="sim-step-item">
          <div class="sim-step-pill disabled">
            <div class="sim-step-icon">&#x1F512;</div>
            <div>
              <div class="sim-step-label">Runner</div>
              <div class="sim-step-desc">Run batch evaluations</div>
            </div>
          </div>
          <div class="sim-step-connector pending"></div>
        </div>
        <!-- Upload (past) -->
        <div class="sim-step-item">
          <div class="sim-step-pill past">
            <div class="sim-step-icon">&#x2B06;</div>
            <div>
              <div class="sim-step-label">Upload</div>
              <div class="sim-step-desc">Import evaluation results</div>
            </div>
          </div>
          <div class="sim-step-connector done"></div>
        </div>
        <!-- Scorecard (active) -->
        <div class="sim-step-item">
          <div class="sim-step-pill active">
            <div class="sim-step-icon">&#x1F3C6;</div>
            <div>
              <div class="sim-step-label">Scorecard</div>
              <div class="sim-step-desc">Executive summary view</div>
            </div>
          </div>
          <div class="sim-step-connector pending"></div>
        </div>
        <!-- Deep Dive (future) -->
        <div class="sim-step-item">
          <div class="sim-step-pill future">
            <div class="sim-step-icon">&#x1F50E;</div>
            <div>
              <div class="sim-step-label">Deep Dive</div>
              <div class="sim-step-desc">Detailed analysis</div>
            </div>
          </div>
          <div class="sim-step-connector pending"></div>
        </div>
        <!-- Compare (future) -->
        <div class="sim-step-item">
          <div class="sim-step-pill future">
            <div class="sim-step-icon">&#x1F500;</div>
            <div>
              <div class="sim-step-label">Compare</div>
              <div class="sim-step-desc">Compare experiments</div>
            </div>
          </div>
        </div>

        <!-- Callouts -->
        <div style="position:absolute;top:-10px;left:6px;"><span class="callout-num">1</span></div>
        <div style="position:absolute;top:-10px;left:23%;"><span class="callout-num">2</span></div>
        <div style="position:absolute;top:-10px;left:46%;"><span class="callout-num">3</span></div>
        <div style="position:absolute;top:-10px;left:68%;"><span class="callout-num">4</span></div>
        <div style="position:absolute;top:-10px;right:30px;"><span class="callout-num">5</span></div>
      </div>
    </div>
  </div>
  <div class="screenshot-caption">The five-step navigation bar. Scorecard is active (primary color), Upload is completed (pale), Runner is disabled (lock icon), and Deep Dive / Compare are ahead (gray).</div>
</div>

<!-- Callout Legend -->
<div class="callout-legend">
  <div class="callout-legend-item">
    <span class="callout-num">1</span>
    <div><strong>Runner (Disabled)</strong> &mdash; Batch evaluation runner. When disabled by an admin via the <code>eval_runner_enabled</code> feature flag, shows a lock icon and a "Disabled by Admin" tooltip on hover.</div>
  </div>
  <div class="callout-legend-item">
    <span class="callout-num">2</span>
    <div><strong>Upload</strong> &mdash; Import CSV evaluation data via drag-and-drop or load an example dataset. Once data is loaded, this step turns pale to indicate completion.</div>
  </div>
  <div class="callout-legend-item">
    <span class="callout-num">3</span>
    <div><strong>Scorecard</strong> &mdash; Executive summary: KPI cards, hierarchical scorecard table with weights and sparklines, drill-down modals, and a report generator.</div>
  </div>
  <div class="callout-legend-item">
    <span class="callout-num">4</span>
    <div><strong>Deep Dive</strong> &mdash; Seven interactive sub-tabs for granular analysis: Overview, Distribution, Tradeoffs, Tree, Response, Conversation, and Metadata.</div>
  </div>
  <div class="callout-legend-item">
    <span class="callout-num">5</span>
    <div><strong>Compare</strong> &mdash; Multi-experiment comparison with two view modes (Test Cases and Experiments), head-to-head summaries, and four chart types.</div>
  </div>
</div>

<p><strong>Step state logic:</strong></p>
<ul>
  <li><strong>Active step</strong> &mdash; primary background with white text and icon</li>
  <li><strong>Past step</strong> &mdash; pale primary background with primary text (indicates you've been further ahead)</li>
  <li><strong>Future step</strong> &mdash; gray background with muted text</li>
  <li><strong>Connectors</strong> &mdash; the short lines between steps turn primary when a step is completed</li>
  <li><strong>Disabled</strong> &mdash; grayed out at 50% opacity with a lock icon; non-clickable</li>
</ul>


<!-- ══════════════ UPLOAD ══════════════ -->
<h2 id="upload">Upload</h2>
<p>The Upload step (<code>/evaluate/upload</code>) accepts CSV evaluation data via a drag-and-drop zone. AXIS auto-detects the data format and validates the schema on the backend.</p>

<div class="screenshot">
  <div class="screenshot-chrome">
    <div class="screenshot-dots"><span></span><span></span><span></span></div>
    <div class="screenshot-title">localhost:3500/evaluate/upload</div>
  </div>
  <div class="screenshot-body">
    <div class="sim-ui">
      <!-- Section header -->
      <div style="display:flex;align-items:center;gap:12px;margin-bottom:20px;">
        <div style="width:40px;height:40px;border-radius:8px;background:rgba(79,70,229,0.1);display:flex;align-items:center;justify-content:center;">
          <svg viewBox="0 0 24 24" fill="none" stroke="#4f46e5" stroke-width="2" style="width:20px;height:20px;"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
        </div>
        <div>
          <div style="font-weight:600;font-size:1.05rem;">Upload Evaluation Data</div>
          <div style="font-size:0.82rem;color:var(--gray-500);">Import your CSV file or try an example dataset</div>
        </div>
      </div>

      <!-- Mode toggle -->
      <div style="display:flex;gap:4px;margin-bottom:16px;background:var(--gray-100);border-radius:8px;padding:3px;width:fit-content;">
        <div class="sim-filter-btn active" style="border:none;font-size:0.78rem;">&#x1F4C1; File Upload</div>
        <div class="sim-filter-btn" style="border:none;font-size:0.78rem;">&#x1F5C4; Database</div>
      </div>

      <!-- Upload Zone -->
      <div class="sim-upload-zone" style="position:relative;">
        <svg viewBox="0 0 24 24" fill="none" stroke="var(--gray-400)" stroke-width="2" style="width:40px;height:40px;margin:0 auto 12px;">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/>
        </svg>
        <div style="font-weight:600;color:var(--gray-700);margin-bottom:4px;">Drop your CSV file here</div>
        <div style="font-size:0.82rem;color:var(--gray-500);">or click to browse &middot; CSV files up to 50 MB</div>
        <!-- Callout -->
        <div style="position:absolute;top:-8px;right:-8px;"><span class="callout-num">1</span></div>
      </div>

      <!-- Example datasets -->
      <div style="margin-top:16px;padding-top:16px;border-top:1px solid var(--gray-200);position:relative;">
        <div style="font-size:0.82rem;color:var(--gray-500);margin-bottom:10px;">Or try an example dataset:</div>
        <div style="display:flex;gap:8px;">
          <div class="sim-filter-btn" style="cursor:pointer;">&#x1F4CA; Example Model</div>
          <div class="sim-filter-btn" style="cursor:pointer;">&#x1F504; Model Comparison</div>
        </div>
        <div style="position:absolute;top:6px;right:0;"><span class="callout-num">2</span></div>
      </div>

      <!-- Success state -->
      <div style="margin-top:24px;padding-top:24px;border-top:2px solid var(--gray-200);position:relative;">
        <div style="display:flex;align-items:center;justify-content:space-between;">
          <div style="display:flex;align-items:center;gap:12px;">
            <div style="width:48px;height:48px;border-radius:8px;background:var(--green-light);display:flex;align-items:center;justify-content:center;">
              <svg viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="2.5" style="width:24px;height:24px;"><path d="M20 6L9 17l-5-5"/></svg>
            </div>
            <div>
              <div style="font-weight:600;">Data Loaded Successfully</div>
              <div style="font-size:0.82rem;color:var(--gray-500);">
                Format: <span style="font-weight:500;color:var(--primary);">tree_format</span> &bull; 2,450 records
              </div>
            </div>
          </div>
          <div style="padding:8px 16px;border-radius:8px;background:var(--primary);color:#fff;font-size:0.85rem;font-weight:600;display:flex;align-items:center;gap:6px;">
            Continue to Scorecard &#x2192;
          </div>
        </div>
        <div style="position:absolute;top:14px;right:180px;"><span class="callout-num">3</span></div>

        <!-- Preview table -->
        <div style="margin-top:16px;border:1px solid var(--gray-200);border-radius:8px;overflow:hidden;">
          <table class="sim-table">
            <thead>
              <tr>
                <th>dataset_id</th>
                <th>query</th>
                <th>actual_output</th>
                <th>metric_name</th>
                <th>metric_score</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="sim-code">case_001</span></td>
                <td style="max-width:140px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">What is the return policy...</td>
                <td style="max-width:140px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">Our return policy allows...</td>
                <td>Faithfulness</td>
                <td><span class="sim-badge green">0.91</span></td>
              </tr>
              <tr>
                <td><span class="sim-code">case_001</span></td>
                <td style="max-width:140px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">What is the return policy...</td>
                <td style="max-width:140px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">Our return policy allows...</td>
                <td>Relevance</td>
                <td><span class="sim-badge green">0.87</span></td>
              </tr>
              <tr>
                <td><span class="sim-code">case_002</span></td>
                <td style="max-width:140px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">Explain the pricing tiers...</td>
                <td style="max-width:140px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">We offer three tiers...</td>
                <td>Completeness</td>
                <td><span class="sim-badge yellow">0.54</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <div class="screenshot-caption">Upload page showing the drag-and-drop zone, example datasets, and the success state with format badge, row count, and data preview table.</div>
</div>

<div class="callout-legend">
  <div class="callout-legend-item">
    <span class="callout-num">1</span>
    <div><strong>Drag-and-Drop Zone</strong> &mdash; Drop a CSV or click to browse. Shows a highlight on hover. Supports files up to 50 MB.</div>
  </div>
  <div class="callout-legend-item">
    <span class="callout-num">2</span>
    <div><strong>Example Datasets</strong> &mdash; Pre-built sample data. "Example Model" loads a single-experiment dataset; "Model Comparison" loads multi-experiment data for the Compare step.</div>
  </div>
  <div class="callout-legend-item">
    <span class="callout-num">3</span>
    <div><strong>Success State</strong> &mdash; After upload, shows the detected format (<code>tree_format</code>, <code>flat_format</code>, <code>simple_judgment</code>), total record count, and a preview table of the first rows.</div>
  </div>
</div>

<div class="admonition info">
  <div class="admonition-title">&#x2139;&#xFE0F; Info</div>
  AXIS auto-detects the data format. <strong>Tree format</strong> and <strong>flat format</strong> use columns <code>metric_name</code> and <code>metric_score</code> (one row per metric observation). <strong>Simple judgment</strong> uses columns ending in <code>_score</code> (one row per test case with all scores as columns). The Scorecard and Report Generator require tree/flat format for hierarchical features.
</div>


<!-- ══════════════ SCORECARD ══════════════ -->
<h2 id="scorecard">Scorecard</h2>
<p>The Scorecard step (<code>/evaluate/scorecard</code>) provides an executive summary of your evaluation results. It combines KPI cards, a hierarchical metric table with weights and sparklines, drill-down modals, and a report generator.</p>

<h3 id="scorecard-kpis">KPI Cards</h3>
<p>Five cards at the top give you an at-a-glance summary:</p>

<div class="screenshot">
  <div class="screenshot-chrome">
    <div class="screenshot-dots"><span></span><span></span><span></span></div>
    <div class="screenshot-title">Scorecard KPIs + Hierarchical Table</div>
  </div>
  <div class="screenshot-body">
    <div class="sim-ui" style="position:relative;">
      <!-- Section header -->
      <div style="display:flex;align-items:center;gap:12px;margin-bottom:20px;">
        <div style="width:40px;height:40px;border-radius:8px;background:rgba(79,70,229,0.1);display:flex;align-items:center;justify-content:center;">
          <svg viewBox="0 0 24 24" fill="none" stroke="#4f46e5" stroke-width="2" style="width:20px;height:20px;"><circle cx="12" cy="8" r="6"/><path d="M15.477 12.89 17 22l-5-3-5 3 1.523-9.11"/></svg>
        </div>
        <div>
          <div style="font-weight:600;font-size:1.05rem;">Scorecard</div>
          <div style="font-size:0.82rem;color:var(--gray-500);">Executive summary with hierarchical metrics</div>
        </div>
      </div>

      <!-- KPI Row -->
      <div class="sim-kpi-row five" style="position:relative;">
        <div class="sim-kpi">
          <div class="sim-kpi-label">Overall Weighted Score</div>
          <div class="sim-kpi-value">0.782</div>
          <div class="sim-kpi-trend" style="color:var(--gray-500);">Weighted avg across hierarchy</div>
        </div>
        <div class="sim-kpi">
          <div class="sim-kpi-label">Score Variance</div>
          <div class="sim-kpi-value">0.034</div>
          <div class="sim-kpi-trend" style="color:var(--gray-500);">Consistency measure</div>
        </div>
        <div class="sim-kpi">
          <div class="sim-kpi-label">Test Cases</div>
          <div class="sim-kpi-value">245</div>
          <div class="sim-kpi-trend" style="color:var(--gray-500);">Unique evaluations</div>
        </div>
        <div class="sim-kpi">
          <div class="sim-kpi-label">Metrics</div>
          <div class="sim-kpi-value">8</div>
          <div class="sim-kpi-trend" style="color:var(--gray-500);">metric_type = metric</div>
        </div>
        <div class="sim-kpi">
          <div class="sim-kpi-label">Components</div>
          <div class="sim-kpi-value">3</div>
          <div class="sim-kpi-trend" style="color:var(--gray-500);">metric_type = component</div>
        </div>
        <!-- Callout -->
        <div style="position:absolute;top:-8px;left:50%;transform:translateX(-50%);"><span class="callout-num">1</span></div>
      </div>

      <!-- Report Generator Panel -->
      <div style="border:1px solid var(--gray-200);border-radius:8px;padding:12px 16px;margin-bottom:16px;display:flex;align-items:center;justify-content:space-between;background:var(--gray-50);position:relative;">
        <div style="display:flex;align-items:center;gap:8px;">
          <svg viewBox="0 0 24 24" fill="none" stroke="var(--primary)" stroke-width="2" style="width:16px;height:16px;"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
          <span style="font-size:0.85rem;font-weight:600;">Report Generator</span>
          <span style="font-size:0.78rem;color:var(--gray-500);">&mdash; Generate a comprehensive evaluation report</span>
        </div>
        <div style="padding:6px 14px;border-radius:6px;background:var(--primary);color:#fff;font-size:0.8rem;font-weight:600;">Generate Full Report</div>
        <div style="position:absolute;top:-8px;right:120px;"><span class="callout-num">2</span></div>
      </div>

      <!-- Hierarchical Table -->
      <div style="border:1px solid var(--gray-200);border-radius:8px;overflow:hidden;position:relative;">
        <!-- Table header -->
        <div style="display:flex;align-items:center;justify-content:space-between;padding:10px 14px;border-bottom:1px solid var(--gray-200);background:var(--gray-50);">
          <div style="display:flex;gap:8px;">
            <div class="sim-filter-btn" style="padding:3px 10px;font-size:0.7rem;">&#x25BC; Expand All</div>
            <div class="sim-filter-btn" style="padding:3px 10px;font-size:0.7rem;">&#x25B6; Collapse All</div>
          </div>
          <div style="font-size:0.75rem;color:var(--gray-500);">8 metrics &middot; 3 components</div>
        </div>
        <table class="sim-table">
          <thead>
            <tr>
              <th style="width:35%;">Metric</th>
              <th>Type</th>
              <th>Weight</th>
              <th>Avg Score</th>
              <th>Range</th>
              <th>Distribution</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <!-- Root: Overall Quality -->
            <tr style="background:var(--primary-light);">
              <td>
                <div class="sim-tree-row">
                  <span class="sim-tree-toggle">&#x25BC;</span>
                  <strong style="color:var(--primary);">Overall Quality</strong>
                </div>
              </td>
              <td><span class="sim-badge blue">component</span></td>
              <td>100%</td>
              <td><span class="sim-badge green">0.782</span></td>
              <td style="font-size:0.75rem;">0.34 &ndash; 0.97</td>
              <td>
                <svg class="sim-sparkline" viewBox="0 0 60 20"><rect x="2" y="14" width="5" height="6" rx="1" fill="#bbf7d0"/><rect x="10" y="8" width="5" height="12" rx="1" fill="#bbf7d0"/><rect x="18" y="3" width="5" height="17" rx="1" fill="#16a34a"/><rect x="26" y="1" width="5" height="19" rx="1" fill="#16a34a"/><rect x="34" y="5" width="5" height="15" rx="1" fill="#16a34a"/><rect x="42" y="10" width="5" height="10" rx="1" fill="#bbf7d0"/><rect x="50" y="15" width="5" height="5" rx="1" fill="#bbf7d0"/></svg>
              </td>
              <td><span class="sim-eye-btn" style="font-size:0.65rem;">&#x1F4CB;</span></td>
            </tr>
            <!-- Child: Faithfulness -->
            <tr>
              <td>
                <div class="sim-tree-row">
                  <span class="sim-tree-indent"></span>
                  <span class="sim-tree-toggle">&#x25B6;</span>
                  Faithfulness
                </div>
              </td>
              <td><span class="sim-badge gray">metric</span></td>
              <td>35%</td>
              <td><span class="sim-badge green">0.847</span></td>
              <td style="font-size:0.75rem;">0.42 &ndash; 0.97</td>
              <td>
                <svg class="sim-sparkline" viewBox="0 0 60 20"><rect x="2" y="12" width="5" height="8" rx="1" fill="#bbf7d0"/><rect x="10" y="6" width="5" height="14" rx="1" fill="#16a34a"/><rect x="18" y="2" width="5" height="18" rx="1" fill="#16a34a"/><rect x="26" y="1" width="5" height="19" rx="1" fill="#16a34a"/><rect x="34" y="4" width="5" height="16" rx="1" fill="#16a34a"/><rect x="42" y="10" width="5" height="10" rx="1" fill="#bbf7d0"/><rect x="50" y="16" width="5" height="4" rx="1" fill="#bbf7d0"/></svg>
              </td>
              <td><span class="sim-eye-btn" style="font-size:0.65rem;">&#x1F441;</span></td>
            </tr>
            <!-- Child: Relevance -->
            <tr>
              <td>
                <div class="sim-tree-row">
                  <span class="sim-tree-indent"></span>
                  <span class="sim-tree-toggle">&#x25B6;</span>
                  Relevance
                </div>
              </td>
              <td><span class="sim-badge gray">metric</span></td>
              <td>30%</td>
              <td><span class="sim-badge green">0.815</span></td>
              <td style="font-size:0.75rem;">0.38 &ndash; 0.95</td>
              <td>
                <svg class="sim-sparkline" viewBox="0 0 60 20"><rect x="2" y="14" width="5" height="6" rx="1" fill="#bbf7d0"/><rect x="10" y="7" width="5" height="13" rx="1" fill="#16a34a"/><rect x="18" y="3" width="5" height="17" rx="1" fill="#16a34a"/><rect x="26" y="2" width="5" height="18" rx="1" fill="#16a34a"/><rect x="34" y="6" width="5" height="14" rx="1" fill="#16a34a"/><rect x="42" y="12" width="5" height="8" rx="1" fill="#bbf7d0"/><rect x="50" y="17" width="5" height="3" rx="1" fill="#bbf7d0"/></svg>
              </td>
              <td><span class="sim-eye-btn" style="font-size:0.65rem;">&#x1F441;</span></td>
            </tr>
            <!-- Child: Completeness (warning) -->
            <tr>
              <td>
                <div class="sim-tree-row">
                  <span class="sim-tree-indent"></span>
                  <span class="sim-tree-toggle">&#x25B6;</span>
                  Completeness
                </div>
              </td>
              <td><span class="sim-badge gray">metric</span></td>
              <td>20%</td>
              <td><span class="sim-badge yellow">0.623</span></td>
              <td style="font-size:0.75rem;">0.21 &ndash; 0.88</td>
              <td>
                <svg class="sim-sparkline" viewBox="0 0 60 20"><rect x="2" y="10" width="5" height="10" rx="1" fill="#fef08a"/><rect x="10" y="6" width="5" height="14" rx="1" fill="#fef08a"/><rect x="18" y="3" width="5" height="17" rx="1" fill="#ca8a04"/><rect x="26" y="5" width="5" height="15" rx="1" fill="#ca8a04"/><rect x="34" y="8" width="5" height="12" rx="1" fill="#fef08a"/><rect x="42" y="12" width="5" height="8" rx="1" fill="#fef08a"/><rect x="50" y="16" width="5" height="4" rx="1" fill="#fef08a"/></svg>
              </td>
              <td><span class="sim-eye-btn" style="font-size:0.65rem;">&#x1F441;</span></td>
            </tr>
            <!-- Child: Safety -->
            <tr>
              <td>
                <div class="sim-tree-row">
                  <span class="sim-tree-indent"></span>
                  <span class="sim-tree-toggle">&#x25B6;</span>
                  Safety
                </div>
              </td>
              <td><span class="sim-badge gray">metric</span></td>
              <td>15%</td>
              <td><span class="sim-badge green">0.934</span></td>
              <td style="font-size:0.75rem;">0.71 &ndash; 1.00</td>
              <td>
                <svg class="sim-sparkline" viewBox="0 0 60 20"><rect x="2" y="16" width="5" height="4" rx="1" fill="#bbf7d0"/><rect x="10" y="12" width="5" height="8" rx="1" fill="#bbf7d0"/><rect x="18" y="6" width="5" height="14" rx="1" fill="#16a34a"/><rect x="26" y="1" width="5" height="19" rx="1" fill="#16a34a"/><rect x="34" y="1" width="5" height="19" rx="1" fill="#16a34a"/><rect x="42" y="3" width="5" height="17" rx="1" fill="#16a34a"/><rect x="50" y="8" width="5" height="12" rx="1" fill="#16a34a"/></svg>
              </td>
              <td><span class="sim-eye-btn" style="font-size:0.65rem;">&#x1F441;</span></td>
            </tr>
          </tbody>
        </table>
        <!-- Callout -->
        <div style="position:absolute;top:60px;right:-8px;"><span class="callout-num">3</span></div>
      </div>
    </div>
  </div>
  <div class="screenshot-caption">Scorecard view showing five KPI cards, the report generator panel, and the hierarchical metric table with expandable tree rows, weights, score badges, and distribution sparklines.</div>
</div>

<div class="callout-legend">
  <div class="callout-legend-item">
    <span class="callout-num">1</span>
    <div><strong>KPI Cards</strong> &mdash; Five metrics: Overall Weighted Score (weighted average across the full hierarchy), Score Variance (consistency measure), Test Cases, Metrics count, and Components count.</div>
  </div>
  <div class="callout-legend-item">
    <span class="callout-num">2</span>
    <div><strong>Report Generator</strong> &mdash; Click to generate a comprehensive evaluation report. Can also scope reports to individual sub-trees via the report icon on each table row.</div>
  </div>
  <div class="callout-legend-item">
    <span class="callout-num">3</span>
    <div><strong>Hierarchical Table</strong> &mdash; Expandable tree structure showing metrics nested under components. Each row shows type badge, normalized weight, average score with color coding, score range, and a sparkline distribution histogram. Click the eye icon to open the drill-down modal.</div>
  </div>
</div>

<h3 id="scorecard-table">Hierarchical Table Columns</h3>
<table class="sim-table" style="margin:16px 0;">
  <thead>
    <tr><th>Column</th><th>Description</th></tr>
  </thead>
  <tbody>
    <tr><td><strong>Metric</strong></td><td>Tree-indented name with expand/collapse toggles. Components show at the top level; metrics nest underneath.</td></tr>
    <tr><td><strong>Type</strong></td><td><span class="sim-badge blue">component</span> (parent aggregate) or <span class="sim-badge gray">metric</span> (leaf evaluation metric).</td></tr>
    <tr><td><strong>Weight</strong></td><td>Normalized percentage weight. Auto-computed so all sibling weights sum to 100% within each parent.</td></tr>
    <tr><td><strong>Avg Score</strong></td><td>Color-coded badge: <span class="sim-badge green">&ge; 0.7</span>, <span class="sim-badge yellow">0.5&ndash;0.7</span>, <span class="sim-badge red">&lt; 0.5</span>.</td></tr>
    <tr><td><strong>Range</strong></td><td>Min&ndash;Max scores observed across all test cases for this metric.</td></tr>
    <tr><td><strong>Distribution</strong></td><td>Inline sparkline histogram showing how scores are distributed.</td></tr>
  </tbody>
</table>

<div class="admonition note">
  <div class="admonition-title">&#x1F4DD; Note</div>
  The table supports <strong>sorting</strong> by name, score, or weight via the column header arrows. Click Expand All / Collapse All to toggle the full tree at once.
</div>

<h3 id="scorecard-drilldown">Drill-Down Modal</h3>
<p>Click the eye icon on any scorecard row to open a detailed view of that metric &mdash; showing the full score distribution chart, per-test-case breakdown, and the failing cases that need attention.</p>


<!-- ══════════════ DEEP DIVE ══════════════ -->
<h2 id="deep-dive">Deep Dive</h2>
<p>The Deep Dive step (<code>/evaluate/deep-dive</code>) provides seven interactive sub-tabs for granular analysis. Each tab focuses on a different aspect of your evaluation data.</p>

<div class="screenshot">
  <div class="screenshot-chrome">
    <div class="screenshot-dots"><span></span><span></span><span></span></div>
    <div class="screenshot-title">localhost:3500/evaluate/deep-dive?tab=overview</div>
  </div>
  <div class="screenshot-body">
    <div class="sim-ui" style="position:relative;">
      <!-- Section header -->
      <div style="display:flex;align-items:center;gap:12px;margin-bottom:20px;">
        <div style="width:40px;height:40px;border-radius:8px;background:rgba(59,130,246,0.1);display:flex;align-items:center;justify-content:center;">
          <svg viewBox="0 0 24 24" fill="none" stroke="#3b82f6" stroke-width="2" style="width:20px;height:20px;"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
        </div>
        <div>
          <div style="font-weight:600;font-size:1.05rem;">Deep Dive</div>
          <div style="font-size:0.82rem;color:var(--gray-500);">Detailed analysis and interactive visualizations</div>
        </div>
      </div>

      <!-- Sub-tab navigation -->
      <div style="display:flex;gap:4px;background:rgba(243,244,246,0.8);border-radius:12px;padding:4px;margin-bottom:20px;position:relative;">
        <div style="flex:1;display:flex;align-items:center;gap:6px;padding:8px 14px;border-radius:8px;background:var(--primary);color:#fff;font-size:0.82rem;font-weight:500;justify-content:center;">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:14px;height:14px;"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
          Overview
        </div>
        <div style="flex:1;display:flex;align-items:center;gap:6px;padding:8px 14px;border-radius:8px;color:var(--gray-500);font-size:0.82rem;font-weight:500;justify-content:center;">
          Distribution
        </div>
        <div style="flex:1;display:flex;align-items:center;gap:6px;padding:8px 14px;border-radius:8px;color:var(--gray-500);font-size:0.82rem;font-weight:500;justify-content:center;">
          Tradeoffs
        </div>
        <div style="flex:1;display:flex;align-items:center;gap:6px;padding:8px 14px;border-radius:8px;color:var(--gray-500);font-size:0.82rem;font-weight:500;justify-content:center;">
          Tree
        </div>
        <div style="flex:1;display:flex;align-items:center;gap:6px;padding:8px 14px;border-radius:8px;color:var(--gray-500);font-size:0.82rem;font-weight:500;justify-content:center;">
          Response
        </div>
        <div style="flex:1;display:flex;align-items:center;gap:6px;padding:8px 14px;border-radius:8px;color:var(--gray-500);font-size:0.82rem;font-weight:500;justify-content:center;">
          Conversation
        </div>
        <div style="flex:1;display:flex;align-items:center;gap:6px;padding:8px 14px;border-radius:8px;color:var(--gray-500);font-size:0.82rem;font-weight:500;justify-content:center;">
          Metadata
        </div>
        <div style="position:absolute;top:-10px;left:50%;transform:translateX(-50%);"><span class="callout-num">1</span></div>
      </div>

      <!-- Overview content: KPIs + Charts -->
      <div class="sim-kpi-row" style="margin-bottom:16px;">
        <div class="sim-kpi">
          <div class="sim-kpi-label">Average Score</div>
          <div class="sim-kpi-value">0.782</div>
          <div class="sim-kpi-trend up">&#x25B2; Above threshold</div>
        </div>
        <div class="sim-kpi">
          <div class="sim-kpi-label">Pass Rate</div>
          <div class="sim-kpi-value">76.3%</div>
          <div class="sim-kpi-trend" style="color:var(--gray-500);">at &ge; 0.5 threshold</div>
        </div>
        <div class="sim-kpi">
          <div class="sim-kpi-label">Test Cases</div>
          <div class="sim-kpi-value">245</div>
          <div class="sim-kpi-trend" style="color:var(--gray-500);">Unique evaluations</div>
        </div>
        <div class="sim-kpi">
          <div class="sim-kpi-label">Score Variance</div>
          <div class="sim-kpi-value">0.034</div>
          <div class="sim-kpi-trend" style="color:var(--gray-500);">Cross-metric consistency</div>
        </div>
      </div>

      <!-- Charts -->
      <div class="sim-2col">
        <div class="sim-chart-card">
          <div class="sim-chart-header">
            <h4>Mean Scores by Metric</h4>
          </div>
          <div class="sim-chart-content">
            <div class="sim-chart-placeholder" style="height:160px;">
              <svg viewBox="0 0 300 140" style="width:100%;height:100%;">
                <text x="5" y="25" font-size="8" fill="#6b7280">Faithfulness</text>
                <rect x="80" y="16" width="170" height="14" rx="3" fill="#16a34a" opacity="0.2"/>
                <rect x="80" y="16" width="144" height="14" rx="3" fill="#16a34a" opacity="0.8"/>
                <text x="228" y="26" font-size="8" fill="#16a34a" font-weight="700">0.85</text>
                <text x="5" y="50" font-size="8" fill="#6b7280">Relevance</text>
                <rect x="80" y="41" width="170" height="14" rx="3" fill="#16a34a" opacity="0.2"/>
                <rect x="80" y="41" width="139" height="14" rx="3" fill="#16a34a" opacity="0.8"/>
                <text x="223" y="51" font-size="8" fill="#16a34a" font-weight="700">0.82</text>
                <text x="5" y="75" font-size="8" fill="#6b7280">Completeness</text>
                <rect x="80" y="66" width="170" height="14" rx="3" fill="#ca8a04" opacity="0.2"/>
                <rect x="80" y="66" width="106" height="14" rx="3" fill="#ca8a04" opacity="0.8"/>
                <text x="190" y="76" font-size="8" fill="#ca8a04" font-weight="700">0.62</text>
                <text x="5" y="100" font-size="8" fill="#6b7280">Safety</text>
                <rect x="80" y="91" width="170" height="14" rx="3" fill="#16a34a" opacity="0.2"/>
                <rect x="80" y="91" width="159" height="14" rx="3" fill="#16a34a" opacity="0.8"/>
                <text x="243" y="101" font-size="8" fill="#16a34a" font-weight="700">0.93</text>
                <!-- Threshold lines -->
                <line x1="165" y1="10" x2="165" y2="110" stroke="#6b7280" stroke-width="0.5" stroke-dasharray="3"/>
                <text x="165" y="125" font-size="7" fill="#9ca3af" text-anchor="middle">0.5</text>
                <line x1="199" y1="10" x2="199" y2="110" stroke="#6b7280" stroke-width="0.5" stroke-dasharray="3"/>
                <text x="199" y="125" font-size="7" fill="#9ca3af" text-anchor="middle">0.7</text>
              </svg>
            </div>
          </div>
        </div>
        <div class="sim-chart-card">
          <div class="sim-chart-header">
            <h4>Metric Radar</h4>
          </div>
          <div class="sim-chart-content">
            <div class="sim-chart-placeholder" style="height:160px;">
              <svg viewBox="0 0 200 160" style="width:100%;height:100%;">
                <!-- Radar grid -->
                <polygon points="100,20 160,60 145,130 55,130 40,60" fill="none" stroke="#e5e7eb" stroke-width="0.5"/>
                <polygon points="100,45 140,70 130,115 70,115 60,70" fill="none" stroke="#e5e7eb" stroke-width="0.5"/>
                <polygon points="100,70 120,80 115,100 85,100 80,80" fill="none" stroke="#e5e7eb" stroke-width="0.5"/>
                <!-- Radar fill -->
                <polygon points="100,28 155,62 120,125 62,118 48,62" fill="#4f46e5" opacity="0.15" stroke="#4f46e5" stroke-width="1.5"/>
                <!-- Labels -->
                <text x="100" y="14" font-size="8" fill="#6b7280" text-anchor="middle">Faithfulness</text>
                <text x="170" y="60" font-size="8" fill="#6b7280">Relevance</text>
                <text x="150" y="140" font-size="8" fill="#6b7280">Completeness</text>
                <text x="10" y="140" font-size="8" fill="#6b7280">Safety</text>
                <text x="10" y="60" font-size="8" fill="#6b7280">Tone</text>
              </svg>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="screenshot-caption">Deep Dive overview showing the seven sub-tabs, KPI summary cards, mean scores bar chart, and a radar chart for multi-metric comparison.</div>
</div>

<div class="callout-legend">
  <div class="callout-legend-item">
    <span class="callout-num">1</span>
    <div><strong>Sub-Tab Navigation</strong> &mdash; Seven pills in a rounded bar. The active tab gets primary background. Tab state persists in Zustand and syncs to the URL query parameter (<code>?tab=overview</code>).</div>
  </div>
</div>

<h3 id="deep-dive-tabs">Sub-Tab Reference</h3>
<table class="sim-table" style="margin:16px 0;">
  <thead>
    <tr><th>Tab</th><th>Icon</th><th>Shows</th></tr>
  </thead>
  <tbody>
    <tr><td><strong>Overview</strong></td><td>BarChart3</td><td>KPI cards (avg score, pass rate, test cases, variance) + bar chart of mean scores + radar chart</td></tr>
    <tr><td><strong>Distribution</strong></td><td>PieChart</td><td>Violin or box charts per metric. Toggle between violin and box mode. Multi-select metrics to compare.</td></tr>
    <tr><td><strong>Tradeoffs</strong></td><td>Workflow</td><td>Scatter plot of metric A vs metric B. Color-by grouping (experiment, metadata fields). Correlation coefficients.</td></tr>
    <tr><td><strong>Tree</strong></td><td>GitBranch</td><td>D3-powered hierarchical tree visualization of the metric hierarchy, matching the scorecard structure.</td></tr>
    <tr><td><strong>Response</strong></td><td>FileText</td><td>Response length analysis &mdash; how output length correlates with evaluation scores.</td></tr>
    <tr><td><strong>Conversation</strong></td><td>MessageSquare</td><td>Turn count analysis &mdash; how multi-turn conversation depth affects evaluation quality.</td></tr>
    <tr><td><strong>Metadata</strong></td><td>Tag</td><td>Score breakdowns by metadata fields (experiment name, model, category, or any custom metadata key).</td></tr>
  </tbody>
</table>

<h3 id="distribution-tab">Distribution Tab</h3>
<p>Shows violin or box plots for each selected metric. Use the metric selector to include or exclude specific metrics from the chart.</p>

<div class="screenshot">
  <div class="screenshot-chrome">
    <div class="screenshot-dots"><span></span><span></span><span></span></div>
    <div class="screenshot-title">Deep Dive &mdash; Distribution</div>
  </div>
  <div class="screenshot-body">
    <div class="sim-ui">
      <!-- Controls -->
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;">
        <div style="display:flex;gap:4px;">
          <div class="sim-filter-btn active" style="font-size:0.78rem;">Violin</div>
          <div class="sim-filter-btn" style="font-size:0.78rem;">Box</div>
        </div>
        <div style="display:flex;gap:6px;flex-wrap:wrap;">
          <div class="sim-filter-btn active" style="padding:3px 10px;font-size:0.72rem;">Faithfulness</div>
          <div class="sim-filter-btn active" style="padding:3px 10px;font-size:0.72rem;">Relevance</div>
          <div class="sim-filter-btn active" style="padding:3px 10px;font-size:0.72rem;">Completeness</div>
          <div class="sim-filter-btn" style="padding:3px 10px;font-size:0.72rem;">Safety</div>
        </div>
      </div>
      <!-- Chart -->
      <div class="sim-chart-placeholder tall">
        <svg viewBox="0 0 600 240" style="width:100%;height:100%;">
          <!-- Y axis -->
          <line x1="60" y1="20" x2="60" y2="210" stroke="#e5e7eb" stroke-width="1"/>
          <text x="50" y="25" font-size="8" fill="#9ca3af" text-anchor="end">1.0</text>
          <text x="50" y="70" font-size="8" fill="#9ca3af" text-anchor="end">0.75</text>
          <text x="50" y="115" font-size="8" fill="#9ca3af" text-anchor="end">0.50</text>
          <text x="50" y="160" font-size="8" fill="#9ca3af" text-anchor="end">0.25</text>
          <text x="50" y="210" font-size="8" fill="#9ca3af" text-anchor="end">0.0</text>
          <line x1="60" y1="70" x2="540" y2="70" stroke="#e5e7eb" stroke-width="0.5" stroke-dasharray="3"/>
          <line x1="60" y1="115" x2="540" y2="115" stroke="#e5e7eb" stroke-width="0.5" stroke-dasharray="3"/>
          <line x1="60" y1="160" x2="540" y2="160" stroke="#e5e7eb" stroke-width="0.5" stroke-dasharray="3"/>
          <!-- Violin 1: Faithfulness -->
          <path d="M160,35 Q140,50 130,80 Q125,115 135,150 Q140,170 160,185 Q180,170 185,150 Q195,115 190,80 Q180,50 160,35 Z" fill="#4f46e5" opacity="0.25" stroke="#4f46e5" stroke-width="1.5"/>
          <line x1="160" y1="45" x2="160" y2="175" stroke="#4f46e5" stroke-width="1"/>
          <rect x="150" y="60" width="20" height="50" rx="2" fill="#4f46e5" opacity="0.4"/>
          <line x1="148" y1="80" x2="172" y2="80" stroke="#4f46e5" stroke-width="2"/>
          <text x="160" y="225" font-size="9" fill="#6b7280" text-anchor="middle">Faithfulness</text>
          <!-- Violin 2: Relevance -->
          <path d="M300,40 Q280,55 270,85 Q265,115 275,150 Q280,175 300,190 Q320,175 325,150 Q335,115 330,85 Q320,55 300,40 Z" fill="#2563eb" opacity="0.25" stroke="#2563eb" stroke-width="1.5"/>
          <line x1="300" y1="50" x2="300" y2="180" stroke="#2563eb" stroke-width="1"/>
          <rect x="290" y="65" width="20" height="55" rx="2" fill="#2563eb" opacity="0.4"/>
          <line x1="288" y1="85" x2="312" y2="85" stroke="#2563eb" stroke-width="2"/>
          <text x="300" y="225" font-size="9" fill="#6b7280" text-anchor="middle">Relevance</text>
          <!-- Violin 3: Completeness -->
          <path d="M440,60 Q420,80 415,110 Q412,135 420,160 Q425,185 440,200 Q455,185 460,160 Q468,135 465,110 Q460,80 440,60 Z" fill="#7c3aed" opacity="0.25" stroke="#7c3aed" stroke-width="1.5"/>
          <line x1="440" y1="70" x2="440" y2="195" stroke="#7c3aed" stroke-width="1"/>
          <rect x="430" y="90" width="20" height="60" rx="2" fill="#7c3aed" opacity="0.4"/>
          <line x1="428" y1="120" x2="452" y2="120" stroke="#7c3aed" stroke-width="2"/>
          <text x="440" y="225" font-size="9" fill="#6b7280" text-anchor="middle">Completeness</text>
        </svg>
      </div>
    </div>
  </div>
  <div class="screenshot-caption">Distribution tab showing violin plots for three selected metrics. The interquartile box and median line are visible within each violin shape.</div>
</div>

<ul>
  <li><strong>Violin mode</strong> shows the full probability density &mdash; wider areas indicate more data points at that score level</li>
  <li><strong>Box mode</strong> switches to traditional box plots with quartiles, whiskers, and outlier dots</li>
  <li>Metric pills at the top-right toggle which metrics appear in the chart</li>
</ul>

<h3 id="tradeoffs-tab">Tradeoffs Tab</h3>
<p>Scatter plot with two metric axes &mdash; useful for understanding metric correlations. For example, plot Faithfulness vs Completeness to see if improving one hurts the other.</p>

<div class="admonition tip">
  <div class="admonition-title">&#x1F4A1; Tip</div>
  Use the <strong>Color By</strong> dropdown to color scatter points by experiment name or metadata fields. This reveals whether different experiments cluster in distinct regions of the metric space.
</div>

<h3 id="tree-tab">Tree Tab</h3>
<p>An interactive D3 force-directed tree visualization showing the full metric hierarchy from the scorecard. Nodes are sized by weight and colored by score.</p>

<h3 id="response-tab">Response &amp; Conversation Tabs</h3>
<p>These tabs analyze how structural properties of the input/output relate to evaluation quality:</p>
<ul>
  <li><strong>Response tab</strong> &mdash; correlates response length (character/token count) with metric scores</li>
  <li><strong>Conversation tab</strong> &mdash; correlates conversation turn count with metric scores (useful for multi-turn chat evaluations)</li>
</ul>

<h3 id="metadata-tab">Metadata Tab</h3>
<p>Breaks down scores by any metadata field in your data. Select a field (e.g., <code>evaluation_name</code>, <code>model</code>, or custom fields from the <code>metadata</code> JSON column) to see grouped bar charts and summary tables.</p>


<!-- ══════════════ COMPARE ══════════════ -->
<h2 id="compare">Compare</h2>
<p>The Compare step (<code>/evaluate/compare</code>) enables side-by-side analysis of multiple experiments. It supports two view modes: <strong>Test Cases</strong> (per-case comparison) and <strong>Experiments</strong> (head-to-head aggregate analysis).</p>

<div class="screenshot">
  <div class="screenshot-chrome">
    <div class="screenshot-dots"><span></span><span></span><span></span></div>
    <div class="screenshot-title">localhost:3500/evaluate/compare</div>
  </div>
  <div class="screenshot-body">
    <div class="sim-ui" style="position:relative;">
      <!-- Header -->
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;">
        <div style="display:flex;align-items:center;gap:12px;">
          <div style="width:40px;height:40px;border-radius:8px;background:var(--gray-100);display:flex;align-items:center;justify-content:center;">
            <svg viewBox="0 0 24 24" fill="none" stroke="var(--gray-500)" stroke-width="2" style="width:20px;height:20px;"><circle cx="18" cy="18" r="3"/><circle cx="6" cy="6" r="3"/><path d="M13 6h3a2 2 0 0 1 2 2v7"/><path d="M11 18H8a2 2 0 0 1-2-2V9"/></svg>
          </div>
          <div>
            <div style="font-weight:600;font-size:1.05rem;">Compare</div>
            <div style="font-size:0.82rem;color:var(--gray-500);">Analyze and compare evaluation results</div>
          </div>
        </div>
        <!-- View Mode Toggle -->
        <div style="display:flex;gap:2px;background:var(--gray-100);border-radius:8px;padding:3px;position:relative;">
          <div style="padding:6px 14px;border-radius:6px;font-size:0.82rem;font-weight:500;color:var(--gray-500);">Test Cases</div>
          <div style="padding:6px 14px;border-radius:6px;background:#fff;font-size:0.82rem;font-weight:500;color:var(--primary);box-shadow:0 1px 3px rgba(0,0,0,0.08);">Experiments</div>
          <div style="position:absolute;top:-10px;right:-4px;"><span class="callout-num">1</span></div>
        </div>
      </div>

      <!-- Experiment Selector -->
      <div style="border:1px solid var(--gray-200);border-radius:12px;padding:20px;margin-bottom:16px;position:relative;">
        <div style="display:flex;gap:16px;align-items:center;">
          <!-- Baseline -->
          <div style="flex:1;">
            <div style="display:flex;align-items:center;gap:6px;margin-bottom:8px;">
              <svg viewBox="0 0 24 24" fill="none" stroke="var(--primary)" stroke-width="2" style="width:16px;height:16px;"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="16"/><line x1="8" y1="12" x2="16" y2="12"/></svg>
              <span style="font-size:0.82rem;font-weight:600;">Baseline</span>
            </div>
            <div style="border:1px solid var(--primary);border-radius:8px;padding:8px 14px;background:var(--primary-light);font-size:0.85rem;font-weight:500;color:var(--primary);">
              gpt-4o-experiment <span style="color:var(--gray-400);font-weight:400;margin-left:8px;">245 cases</span>
            </div>
          </div>
          <!-- Swap button -->
          <div style="width:36px;height:36px;border:1px solid var(--gray-200);border-radius:50%;display:flex;align-items:center;justify-content:center;color:var(--gray-400);cursor:pointer;flex-shrink:0;font-size:0.9rem;">&#x21C4;</div>
          <!-- Challenger -->
          <div style="flex:1;">
            <div style="display:flex;align-items:center;gap:6px;margin-bottom:8px;">
              <svg viewBox="0 0 24 24" fill="none" stroke="#ea580c" stroke-width="2" style="width:16px;height:16px;"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10"/></svg>
              <span style="font-size:0.82rem;font-weight:600;">Challenger</span>
            </div>
            <div style="border:1px solid #ea580c;border-radius:8px;padding:8px 14px;background:#fff7ed;font-size:0.85rem;font-weight:500;color:#ea580c;">
              claude-3.5-experiment <span style="color:var(--gray-400);font-weight:400;margin-left:8px;">245 cases</span>
            </div>
          </div>
        </div>
        <div style="position:absolute;top:-8px;left:50%;transform:translateX(-50%);"><span class="callout-num">2</span></div>
      </div>

      <!-- Head-to-Head Summary (placeholder) -->
      <div style="border:1px solid var(--gray-200);border-radius:8px;padding:16px;margin-bottom:16px;background:var(--gray-50);position:relative;">
        <div style="display:flex;gap:16px;justify-content:center;text-align:center;">
          <div style="flex:1;">
            <div style="font-size:0.7rem;color:var(--gray-500);text-transform:uppercase;margin-bottom:4px;">Baseline Wins</div>
            <div style="font-size:1.6rem;font-weight:700;color:var(--primary);">127</div>
          </div>
          <div style="width:1px;background:var(--gray-200);"></div>
          <div style="flex:1;">
            <div style="font-size:0.7rem;color:var(--gray-500);text-transform:uppercase;margin-bottom:4px;">Ties</div>
            <div style="font-size:1.6rem;font-weight:700;color:var(--gray-500);">42</div>
          </div>
          <div style="width:1px;background:var(--gray-200);"></div>
          <div style="flex:1;">
            <div style="font-size:0.7rem;color:var(--gray-500);text-transform:uppercase;margin-bottom:4px;">Challenger Wins</div>
            <div style="font-size:1.6rem;font-weight:700;color:#ea580c;">76</div>
          </div>
        </div>
        <div style="position:absolute;top:-8px;right:40px;"><span class="callout-num">3</span></div>
      </div>

      <!-- Charts Accordion -->
      <div style="border:1px solid var(--gray-200);border-radius:8px;overflow:hidden;background:var(--gray-50);position:relative;">
        <div style="padding:14px 18px;display:flex;align-items:center;justify-content:space-between;">
          <div style="display:flex;align-items:center;gap:8px;">
            <svg viewBox="0 0 24 24" fill="none" stroke="var(--primary)" stroke-width="2" style="width:18px;height:18px;"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
            <span style="font-weight:600;">Comparison Charts</span>
          </div>
          <span style="color:var(--gray-400);">&#x25B2;</span>
        </div>
        <!-- Chart type tabs -->
        <div style="padding:0 18px 4px;">
          <div style="display:flex;gap:4px;border:1px solid var(--gray-200);border-radius:8px;background:#fff;padding:3px;">
            <div style="padding:6px 14px;border-radius:6px;background:var(--primary);color:#fff;font-size:0.82rem;font-weight:500;">Win/Loss</div>
            <div style="padding:6px 14px;border-radius:6px;font-size:0.82rem;color:var(--gray-500);">Distribution</div>
            <div style="padding:6px 14px;border-radius:6px;font-size:0.82rem;color:var(--gray-500);">Radar</div>
            <div style="padding:6px 14px;border-radius:6px;font-size:0.82rem;color:var(--gray-500);">Bar</div>
          </div>
        </div>
        <!-- Chart placeholder -->
        <div style="padding:8px 18px 18px;">
          <div class="sim-chart-placeholder tall" style="border-radius:8px;background:#fff;">
            <svg viewBox="0 0 500 220" style="width:100%;height:100%;">
              <!-- Win/Loss horizontal stacked bars -->
              <text x="20" y="40" font-size="9" fill="#6b7280">Faithfulness</text>
              <rect x="100" y="28" width="150" height="20" rx="3" fill="#4f46e5" opacity="0.7"/>
              <rect x="250" y="28" width="15" height="20" rx="3" fill="#9ca3af" opacity="0.3"/>
              <rect x="265" y="28" width="90" height="20" rx="3" fill="#ea580c" opacity="0.7"/>
              <text x="170" y="42" font-size="8" fill="#fff" font-weight="600">61%</text>
              <text x="305" y="42" font-size="8" fill="#fff" font-weight="600">37%</text>

              <text x="20" y="80" font-size="9" fill="#6b7280">Relevance</text>
              <rect x="100" y="68" width="130" height="20" rx="3" fill="#4f46e5" opacity="0.7"/>
              <rect x="230" y="68" width="20" height="20" rx="3" fill="#9ca3af" opacity="0.3"/>
              <rect x="250" y="68" width="105" height="20" rx="3" fill="#ea580c" opacity="0.7"/>
              <text x="160" y="82" font-size="8" fill="#fff" font-weight="600">53%</text>
              <text x="298" y="82" font-size="8" fill="#fff" font-weight="600">43%</text>

              <text x="20" y="120" font-size="9" fill="#6b7280">Completeness</text>
              <rect x="100" y="108" width="110" height="20" rx="3" fill="#4f46e5" opacity="0.7"/>
              <rect x="210" y="108" width="25" height="20" rx="3" fill="#9ca3af" opacity="0.3"/>
              <rect x="235" y="108" width="120" height="20" rx="3" fill="#ea580c" opacity="0.7"/>
              <text x="148" y="122" font-size="8" fill="#fff" font-weight="600">45%</text>
              <text x="290" y="122" font-size="8" fill="#fff" font-weight="600">49%</text>

              <text x="20" y="160" font-size="9" fill="#6b7280">Safety</text>
              <rect x="100" y="148" width="155" height="20" rx="3" fill="#4f46e5" opacity="0.7"/>
              <rect x="255" y="148" width="30" height="20" rx="3" fill="#9ca3af" opacity="0.3"/>
              <rect x="285" y="148" width="70" height="20" rx="3" fill="#ea580c" opacity="0.7"/>
              <text x="172" y="162" font-size="8" fill="#fff" font-weight="600">63%</text>
              <text x="315" y="162" font-size="8" fill="#fff" font-weight="600">29%</text>

              <!-- Legend -->
              <rect x="140" y="190" width="10" height="10" rx="2" fill="#4f46e5" opacity="0.7"/>
              <text x="154" y="199" font-size="8" fill="#6b7280">Baseline wins</text>
              <rect x="230" y="190" width="10" height="10" rx="2" fill="#9ca3af" opacity="0.3"/>
              <text x="244" y="199" font-size="8" fill="#6b7280">Tie</text>
              <rect x="270" y="190" width="10" height="10" rx="2" fill="#ea580c" opacity="0.7"/>
              <text x="284" y="199" font-size="8" fill="#6b7280">Challenger wins</text>
            </svg>
          </div>
        </div>
        <div style="position:absolute;top:-8px;left:50%;transform:translateX(-50%);"><span class="callout-num">4</span></div>
      </div>
    </div>
  </div>
  <div class="screenshot-caption">Compare view in Experiments mode showing the experiment selector, head-to-head win summary, and a Win/Loss stacked bar chart with four chart type tabs.</div>
</div>

<div class="callout-legend">
  <div class="callout-legend-item">
    <span class="callout-num">1</span>
    <div><strong>View Mode Toggle</strong> &mdash; Switch between <strong>Test Cases</strong> (per-case side-by-side table with diff view) and <strong>Experiments</strong> (aggregate head-to-head comparison with charts).</div>
  </div>
  <div class="callout-legend-item">
    <span class="callout-num">2</span>
    <div><strong>Experiment Selector</strong> &mdash; Pick a baseline and challenger from your experiments. The swap button (&#x21C4;) reverses them. Auto-selects if exactly 2 experiments exist.</div>
  </div>
  <div class="callout-legend-item">
    <span class="callout-num">3</span>
    <div><strong>Head-to-Head Summary</strong> &mdash; Aggregate win/tie/loss counts across all test cases and metrics. Shows which experiment outperforms overall.</div>
  </div>
  <div class="callout-legend-item">
    <span class="callout-num">4</span>
    <div><strong>Comparison Charts</strong> &mdash; Collapsible section with four chart types: Win/Loss (stacked horizontal bars per metric), Distribution (score density comparison), Radar (multi-metric overlay), and Bar (grouped mean scores).</div>
  </div>
</div>

<h3 id="compare-charts">Chart Types</h3>
<table class="sim-table" style="margin:16px 0;">
  <thead>
    <tr><th>Chart</th><th>What It Shows</th><th>Best For</th></tr>
  </thead>
  <tbody>
    <tr><td><strong>Win/Loss</strong></td><td>Stacked horizontal bars per metric: baseline wins (left), ties (center), challenger wins (right)</td><td>Quick per-metric dominance comparison</td></tr>
    <tr><td><strong>Distribution</strong></td><td>Overlaid score density curves for baseline vs challenger on a single metric</td><td>Understanding where score distributions differ</td></tr>
    <tr><td><strong>Radar</strong></td><td>Multi-metric spider chart with one polygon per experiment</td><td>Holistic multi-dimensional comparison</td></tr>
    <tr><td><strong>Bar</strong></td><td>Grouped bar chart of mean scores per metric per experiment</td><td>Direct numeric comparison across metrics</td></tr>
  </tbody>
</table>

<h3 id="compare-testcases">Test Cases View</h3>
<p>In <strong>Test Cases</strong> mode, the Compare step shows a per-case table with side-by-side outputs and per-metric score deltas. Features include:</p>
<ul>
  <li><strong>Side-by-side table</strong> with baseline and challenger columns</li>
  <li><strong>Score delta badges</strong> &mdash; green when challenger improves, red when it regresses</li>
  <li><strong>Case diff view</strong> &mdash; inline text diff highlighting output differences</li>
  <li><strong>Test case detail modal</strong> &mdash; full view of a single case with all fields and metric scores</li>
  <li><strong>Export</strong> &mdash; download the full comparison as a CSV report</li>
</ul>

<div class="admonition warning">
  <div class="admonition-title">&#x26A0;&#xFE0F; Warning</div>
  The Compare step requires your data to contain at least two distinct values in the <code>evaluation_name</code> column. If your data has only one experiment, the Experiments view will show a prompt to upload multi-experiment data.
</div>


<!-- ══════════════ DATA FORMATS ══════════════ -->
<h2 id="data-formats">Data Formats</h2>
<p>AXIS auto-detects your CSV format on upload. Three formats are supported for the Evaluate module:</p>

<h3>Tree / Flat Format (Recommended)</h3>
<p>Each row is a single metric observation. Required for the Scorecard's hierarchical features and the Report Generator.</p>
<pre><code>dataset_id,query,actual_output,metric_name,metric_score,metric_type,evaluation_name,metadata
case_001,What is...,The answer...,Faithfulness,0.85,metric,gpt-4o-run,"{""model"":""gpt-4o""}"
case_001,What is...,The answer...,Overall Quality,0.82,component,gpt-4o-run,"{}"</code></pre>

<h3>Simple Judgment Format</h3>
<p>Each row contains all metrics as columns (column names ending in <code>_score</code>). Simpler but does not support hierarchical scorecard features.</p>
<pre><code>dataset_id,query,actual_output,faithfulness_score,relevance_score
case_001,What is...,The answer...,0.85,0.92</code></pre>

<div class="admonition info">
  <div class="admonition-title">&#x2139;&#xFE0F; Info</div>
  The <code>metric_type</code> column distinguishes <strong>component</strong> (parent aggregate) from <strong>metric</strong> (leaf evaluation score). The scorecard uses this to build the hierarchy. If <code>metric_type</code> is missing, all metrics are treated as flat leaves.
</div>


<!-- ══════════════ NEXT STEPS ══════════════ -->
<h2 id="next-steps">Next Steps</h2>

<div class="next-steps">
  <a class="next-step-card" href="#">
    <h4>&#x1F4CA; Monitoring &rarr;</h4>
    <p>Track your evaluation metrics in production with real-time dashboards, alerts, and trend analysis.</p>
  </a>
  <a class="next-step-card" href="#">
    <h4>&#x270F; Annotation Studio &rarr;</h4>
    <p>Build human-labeled ground truth datasets for evaluating and fine-tuning your LLM applications.</p>
  </a>
  <a class="next-step-card" href="#">
    <h4>&#x2696; Calibration &rarr;</h4>
    <p>Align your LLM judges with human preferences using the calibration workflow.</p>
  </a>
</div>

<!-- Footer -->
<div style="margin-top:60px;padding-top:24px;border-top:1px solid var(--gray-200);font-size:0.8rem;color:var(--gray-400);text-align:center;">
  AXIS Documentation &middot; Built with MkDocs Material
</div>

</div><!-- .content -->
</main>

<!-- TABLE OF CONTENTS -->
<nav class="toc">
  <div class="toc-title">On this page</div>
  <ul class="toc-list">
    <li><a href="#why-evaluate">Why Use Evaluate?</a></li>
    <li><a href="#quick-start">Quick Start</a></li>
    <li><a href="#step-navigation">Step Navigation</a></li>
    <li><a href="#upload">Upload</a></li>
    <li><a href="#scorecard">Scorecard</a></li>
    <li class="indent"><a href="#scorecard-kpis">KPI Cards</a></li>
    <li class="indent"><a href="#scorecard-table">Hierarchical Table</a></li>
    <li class="indent"><a href="#scorecard-drilldown">Drill-Down Modal</a></li>
    <li><a href="#deep-dive">Deep Dive</a></li>
    <li class="indent"><a href="#deep-dive-tabs">Sub-Tab Reference</a></li>
    <li class="indent"><a href="#distribution-tab">Distribution</a></li>
    <li class="indent"><a href="#tradeoffs-tab">Tradeoffs</a></li>
    <li class="indent"><a href="#tree-tab">Tree</a></li>
    <li class="indent"><a href="#response-tab">Response &amp; Conversation</a></li>
    <li class="indent"><a href="#metadata-tab">Metadata</a></li>
    <li><a href="#compare">Compare</a></li>
    <li class="indent"><a href="#compare-charts">Chart Types</a></li>
    <li class="indent"><a href="#compare-testcases">Test Cases View</a></li>
    <li><a href="#data-formats">Data Formats</a></li>
    <li><a href="#next-steps">Next Steps</a></li>
  </ul>
</nav>

</div><!-- .layout -->

</body>
</html>
